<div class="container mt-4">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <%= image_tag(@recipe.photo, alt: 'Recipe Photo', class: 'img-fluid') %>
      <h1 class="my-4"><%= @recipe.name %></h1>
      <div class="d-flex justify-content-between">
        <span>Level: <%= @recipe.difficulty %></span>
        <span>⏱ <%= @recipe.duration %> </span>
      </div>
      <div><span>★ 4.5</span></div>
      <p class="my-4">
        <%= @recipe.description %>
      </p>

      <div class="my-2">
        <button class="custom-btn dropdown-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#recipeSteps" aria-expanded="false" aria-controls="recipeSteps">
          Steps
        </button>
        <div class="collapse" id="recipeSteps">
          <div class="card card-body">
            <ol>
              <% JSON.parse(@recipe.instructions).each do |instruction| %>
                <li><%= instruction %></li>
              <% end %>
            </ol>
          </div>
        </div>
      </div>
      <% if user_signed_in? %>
        <div class="my-2">
          <button class="custom-btn dropdown-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#leaveReview" aria-expanded="false" aria-controls="leaveReview">
            Reviews
          </button>
          <div class="collapse" id="leaveReview">
            <div class="card card-body">
              <% review = Review.new %>
              <% review.user = current_user %>
              <% review.recipe = @recipe %>
              <%= render partial: "reviews/new_review_form", locals: { review: review } %>
            </div>
          </div>
        </div>
      <% end %>
      <div>
        <%= link_to recipe_cooking_path(@recipe) do %>
          <button type="button" class="custom-btn1">Start Cooking</button>
        <% end %>
      </div>
    </div>
  </div>
</div>
